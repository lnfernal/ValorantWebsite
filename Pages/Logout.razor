@page "/logout"
@inherits LayoutComponentBase
@inject NavigationManager NavManager
@using Microsoft.AspNetCore.Components;
@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@inject ProtectedSessionStorage ProtectedSessionStore
@inject ValorantService valService
@inject ICookie cookie
<PageTitle>Logging out</PageTitle>


@code {
    protected override async Task OnInitializedAsync()
    {
        await ProtectedSessionStore.DeleteAsync("token");
        await cookie.SetValue("data", string.Empty, 0);
        valService.Logout();
        await InvokeAsync(StateHasChanged);
        NavManager.NavigateTo("/");
    }
}