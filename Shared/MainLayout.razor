@inherits LayoutComponentBase
@inject ValorantService ValService
@implements IDisposable

<PageTitle>Pro Swapper Valorant</PageTitle>


<title>Pro Swapper valorant</title>
<meta content="Pro Swapper Valorant" property="og:title" />
<meta content="Change your Valorant skins, view your current game, shop and much more!" property="og:description" />
<meta content="https://valorant.proswapper.xyz" property="og:url" />
<meta content="https://i.imgur.com/ArpmuMZ.png" property="og:image" />
<meta content="#eb4034" data-react-helmet="true" name="theme-color" />

<div class="page">
    @if (ValService.user.loginState == Data.LoginState.LoggedIn)
    {
        <div class="sidebar" style="background: #c62828">
            <NavMenu />
        </div>
    }
    <main>
        @*<div class="top-row px-4">
            <a href="https://discord.com/invite/QSnufXDn8m" target="_blank">Discord</a>
            </div>*@

        <article class="content px-4">
            @Body
        </article>
    </main>
</div>


@code
{

    protected override void OnInitialized()
    {
        ValService.OnChange += OnMyChangeHandler;
    }

    public void Dispose()
    {
        ValService.OnChange -= OnMyChangeHandler;
    }

    private async void OnMyChangeHandler()
    {
        // InvokeAsync is inherited, it syncs the call back to the render thread
        await InvokeAsync(() => StateHasChanged());
    }
}